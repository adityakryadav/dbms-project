<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delivery Partner Portal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: #4CAF50;
            color: white;
            padding: 20px 0;
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1, h2, h3 {
            margin-bottom: 15px;
        }
        
        .login-container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 30px;
            max-width: 500px;
            margin: 50px auto;
        }
        
        .dashboard-container {
            display: none;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .stats-container {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .stat-box {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 20px;
            width: 23%;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .stat-box h3 {
            color: #4CAF50;
        }
        
        .orders-container, .map-container, .payment-container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .order-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .order-details {
            flex: 1;
        }
        
        .order-actions {
            display: flex;
            gap: 10px;
        }
        
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #45a049;
        }
        
        button.secondary {
            background-color: #2196F3;
        }
        
        button.secondary:hover {
            background-color: #0b7dda;
        }
        
        input, select {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .map-image {
            width: 100%;
            height: 400px;
            background-color: #f1f1f1;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .payment-methods {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        
        .payment-method {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            flex: 1;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .payment-method:hover {
            border-color: #4CAF50;
            transform: translateY(-5px);
        }
        
        .payment-method.selected {
            border-color: #4CAF50;
            background-color: #f0f9f0;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
        }
        
        .tab.active {
            border-bottom-color: #4CAF50;
            font-weight: bold;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Delivery Partner Portal</h1>
        </div>
    </header>
    
    <div class="container">
        <!-- Login/Signup Section -->
        <div id="auth-container" class="login-container">
            <div class="tabs">
                <div class="tab active" data-tab="login">Login</div>
                <div class="tab" data-tab="signup">Signup</div>
            </div>
            
            <div id="login-tab" class="tab-content active">
                <h2>Login to Your Account</h2>
                <form id="login-form">
                    <div>
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" required>
                    </div>
                    <div>
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" required>
                    </div>
                    <button type="submit">Login</button>
                </form>
            </div>
            
            <div id="signup-tab" class="tab-content">
                <h2>Create New Account</h2>
                <form id="signup-form">
                    <div>
                        <label for="signup-name">Full Name</label>
                        <input type="text" id="signup-name" required>
                    </div>
                    <div>
                        <label for="signup-email">Email</label>
                        <input type="email" id="signup-email" required>
                    </div>
                    <div>
                        <label for="signup-phone">Phone Number</label>
                        <input type="tel" id="signup-phone" required>
                    </div>
                    <div>
                        <label for="signup-vehicle">Vehicle Type</label>
                        <select id="signup-vehicle" required>
                            <option value="">Select Vehicle Type</option>
                            <option value="bike">Bike</option>
                            <option value="scooter">Scooter</option>
                            <option value="car">Car</option>
                        </select>
                    </div>
                    <div>
                        <label for="signup-password">Password</label>
                        <input type="password" id="signup-password" required>
                    </div>
                    <div>
                        <label for="signup-confirm-password">Confirm Password</label>
                        <input type="password" id="signup-confirm-password" required>
                    </div>
                    <button type="submit">Sign Up</button>
                </form>
            </div>
        </div>
        
        <!-- Dashboard Section (Hidden by default) -->
        <div id="dashboard-container" class="dashboard-container">
            <h2>Welcome, <span id="partner-name">Partner</span>!</h2>
            
            <div class="stats-container">
                <div class="stat-box">
                    <h3>₹1,250</h3>
                    <p>Today's Earnings</p>
                </div>
                <div class="stat-box">
                    <h3>₹8,450</h3>
                    <p>Weekly Earnings</p>
                </div>
                <div class="stat-box">
                    <h3>12</h3>
                    <p>Deliveries Today</p>
                </div>
                <div class="stat-box">
                    <h3>98%</h3>
                    <p>On-time Rate</p>
                </div>
            </div>
            
            <!-- Orders Section -->
            <div class="orders-container">
                <h2>Available Orders</h2>
                
                <div class="order-card">
                    <div class="order-details">
                        <h3>Order #12345</h3>
                        <p>From: Apollo Pharmacy, Sector 12</p>
                        <p>To: Green Park, House 45</p>
                        <p>Distance: 3.2 km</p>
                        <p>Estimated Earnings: ₹120</p>
                    </div>
                    <div class="order-actions">
                        <button class="accept-order" data-order-id="12345">Accept</button>
                        <button class="secondary view-map" data-order-id="12345">View Map</button>
                    </div>
                </div>
                
                <div class="order-card">
                    <div class="order-details">
                        <h3>Order #12346</h3>
                        <p>From: MedPlus, Sector 18</p>
                        <p>To: Sunshine Apartments, Block C</p>
                        <p>Distance: 5.7 km</p>
                        <p>Estimated Earnings: ₹180</p>
                    </div>
                    <div class="order-actions">
                        <button class="accept-order" data-order-id="12346">Accept</button>
                        <button class="secondary view-map" data-order-id="12346">View Map</button>
                    </div>
                </div>
                
                <div class="order-card">
                    <div class="order-details">
                        <h3>Order #12347</h3>
                        <p>From: City Hospital, Main Road</p>
                        <p>To: Palm Grove Society, Tower 2</p>
                        <p>Distance: 4.1 km</p>
                        <p>Estimated Earnings: ₹150</p>
                    </div>
                    <div class="order-actions">
                        <button class="accept-order" data-order-id="12347">Accept</button>
                        <button class="secondary view-map" data-order-id="12347">View Map</button>
                    </div>
                </div>
            </div>
            
            <!-- Map Section -->
            <div class="map-container">
                <h2>Delivery Map</h2>
                <div id="deliveryMap" style="width:100%; height:380px; border-radius:8px; border:1px solid #e0e0e0; overflow:hidden;"></div>
                <div id="route-details">
                    <h3>Route Details</h3>
                    <p>Select an order to view the delivery route</p>
                </div>
            </div>
            
            <!-- Payment Section -->
            <div class="payment-container">
                <h2>Payment Options</h2>
                <p>Choose your preferred payment method:</p>
                
                <div class="payment-methods">
                    <div class="payment-method" data-method="upi">
                        <h3>UPI</h3>
                        <p>Get instant payments to your UPI ID</p>
                    </div>
                    <div class="payment-method" data-method="bank">
                        <h3>Bank Transfer</h3>
                        <p>Direct deposit to your bank account</p>
                    </div>
                    <div class="payment-method" data-method="cash">
                        <h3>Cash</h3>
                        <p>Collect cash from customers</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Google Maps JS API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBvVSII8FDOFvpo_9UdTSSfULD24NC91s8"></script>
    <script>
        let map, directionsService, directionsRenderer, geocoder;

        function initMap() {
            const mumbai = { lat: 19.0760, lng: 72.8777 };
            map = new google.maps.Map(document.getElementById('deliveryMap'), {
                center: mumbai,
                zoom: 12,
                mapTypeControl: false,
                streetViewControl: false,
                fullscreenControl: false
            });
            directionsService = new google.maps.DirectionsService();
            directionsRenderer = new google.maps.DirectionsRenderer({ map });
            geocoder = new google.maps.Geocoder();
        }

        function showRoute(fromAddr, toAddr) {
            if (!map) initMap();
            directionsService.route({
                origin: fromAddr,
                destination: toAddr,
                travelMode: google.maps.TravelMode.DRIVING
            }, (result, status) => {
                if (status === google.maps.DirectionsStatus.OK) {
                    directionsRenderer.setDirections(result);
                    const leg = result.routes[0]?.legs[0];
                    const distance = leg?.distance?.text || '—';
                    const duration = leg?.duration?.text || '—';
                    document.getElementById('route-details').innerHTML = `
                        <h3>Route Details</h3>
                        <p><strong>From:</strong> ${fromAddr}</p>
                        <p><strong>To:</strong> ${toAddr}</p>
                        <p><strong>Distance:</strong> ${distance} • <strong>ETA:</strong> ${duration}</p>
                    `;
                } else {
                    document.getElementById('route-details').innerHTML = `
                        <h3>Route Details</h3>
                        <p>Could not fetch route. Status: ${status}</p>
                        <p>From: ${fromAddr}<br>To: ${toAddr}</p>
                    `;
                }
            });
        }

        // Hook up "View Map" buttons to plot selected order addresses
        document.addEventListener('DOMContentLoaded', () => {
            initMap();
            document.querySelectorAll('.view-map').forEach(btn => {
                btn.addEventListener('click', () => {
                    const card = btn.closest('.order-card');
                    if (!card) return;
                    const detailPs = card.querySelectorAll('.order-details p');
                    let fromAddr = '', toAddr = '';
                    detailPs.forEach(p => {
                        const text = p.textContent.trim();
                        if (text.startsWith('From:')) fromAddr = text.replace('From:', '').trim();
                        if (text.startsWith('To:')) toAddr = text.replace('To:', '').trim();
                    });
                    if (fromAddr && toAddr) {
                        showRoute(fromAddr + ', Mumbai', toAddr + ', Mumbai');
                    } else {
                        alert('Could not parse addresses for this order.');
                    }
                });
            });
        });
        // Tab switching functionality
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab
                tab.classList.add('active');
                document.getElementById(`${tab.dataset.tab}-tab`).classList.add('active');
            });
        });
        
        // Login form submission
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            // In a real app, this would validate credentials with a backend
            // For demo purposes, we'll just show the dashboard
            document.getElementById('auth-container').style.display = 'none';
            document.getElementById('dashboard-container').style.display = 'block';
            document.getElementById('partner-name').textContent = 'Demo Partner';
        });
        
        // Signup form submission
        document.getElementById('signup-form').addEventListener('submit', function(e) {
            e.preventDefault();
            // In a real app, this would register the user with a backend
            // For demo purposes, we'll just show the dashboard
            document.getElementById('auth-container').style.display = 'none';
            document.getElementById('dashboard-container').style.display = 'block';
            document.getElementById('partner-name').textContent = document.getElementById('signup-name').value;
        });
        
        // Order acceptance functionality
        document.querySelectorAll('.accept-order').forEach(button => {
            button.addEventListener('click', function() {
                const orderId = this.dataset.orderId;
                
                // Update the button text and disable it
                this.textContent = 'Accepted';
                this.disabled = true;
                this.style.backgroundColor = '#888';
                
                // In a real app, this would communicate with a backend
                alert(`You've accepted order #${orderId}. Head to the pickup location!`);
            });
        });
        
        // View map functionality
        document.querySelectorAll('.view-map').forEach(button => {
            button.addEventListener('click', function() {
                const orderId = this.dataset.orderId;
                
                // In a real app, this would load the actual route on a map
                document.getElementById('route-details').innerHTML = `
                    <h3>Route for Order #${orderId}</h3>
                    <p><strong>Pickup:</strong> Pharmacy Location</p>
                    <p><strong>Dropoff:</strong> Customer Address</p>
                    <p><strong>Estimated Time:</strong> 15 minutes</p>
                    <p><strong>Distance:</strong> 4.5 km</p>
                `;
                
                // Scroll to map section
                document.querySelector('.map-container').scrollIntoView({ behavior: 'smooth' });
            });
        });
        
        // Payment method selection
        document.querySelectorAll('.payment-method').forEach(method => {
            method.addEventListener('click', function() {
                // Remove selected class from all methods
                document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('selected'));
                
                // Add selected class to clicked method
                this.classList.add('selected');
                
                // In a real app, this would update the user's payment preference
                alert(`You've selected ${this.querySelector('h3').textContent} as your payment method.`);
            });
        });
    </script>
</body>
</html>